<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Financial Goal Tracker</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    body {
      background-color: #f4f8fb;
      font-family: "Poppins", sans-serif;
    }

    .container {
      max-width: 950px;
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-top: 40px;
    }

    h1 {
      text-align: center;
      color: #0077b6;
      font-weight: 600;
    }

    .table th {
      background-color: #0077b6;
      color: white;
    }

    .summary-box {
      background: #eaf6ff;
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px;
    }

    .btn-action {
      border: none;
      padding: 5px 8px;
      border-radius: 6px;
      color: white;
      cursor: pointer;
    }

    .btn-edit {
      background-color: #00b4d8;
    }

    .btn-delete {
      background-color: #ef476f;
    }

    .btn-edit:hover {
      background-color: #0096c7;
    }

    .btn-delete:hover {
      background-color: #d62839;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ¯ Smart Financial Goal Tracker</h1>

    <!-- Add Goal -->
    <h4 class="mt-4 mb-3">Add New Goal</h4>
    <form id="goalForm" class="row g-2">
      <div class="col-md-3">
        <input type="text" id="goalName" class="form-control" placeholder="Goal Name" required />
      </div>
      <div class="col-md-3">
        <input type="number" id="goalAmount" class="form-control" placeholder="Amount Required" required />
      </div>
      <div class="col-md-2">
        <input type="number" id="goalYears" class="form-control" placeholder="Years" required />
      </div>
      <div class="col-md-2">
        <input type="number" id="goalMonths" class="form-control" placeholder="Months" required />
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary w-100">Add Goal</button>
      </div>
    </form>

    <table class="table mt-3 align-middle">
      <thead>
        <tr>
          <th>Goal</th>
          <th>Target (â‚¹)</th>
          <th>Time (Months)</th>
          <th>Per Month (â‚¹)</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="goalsTable"></tbody>
    </table>

    <!-- Add Savings -->
    <h4 class="mt-4 mb-3">Add Savings</h4>
    <form id="savingsForm" class="row g-2">
      <div class="col-md-4">
        <select id="savingsType" class="form-select" required>
          <option value="">Select Type</option>
          <option>ETF</option>
          <option>Mutual Fund</option>
          <option>Stocks</option>
          <option>Other</option>
        </select>
      </div>
      <div class="col-md-4">
        <input type="number" id="savingsAmount" class="form-control" placeholder="Amount Saved" required />
      </div>
      <div class="col-md-4">
        <button class="btn btn-success w-100">Add Savings</button>
      </div>
    </form>

    <table class="table mt-3 align-middle">
      <thead>
        <tr>
          <th>Type</th>
          <th>Amount (â‚¹)</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="savingsTable"></tbody>
    </table>

    <!-- Summary -->
    <div class="summary-box">
      <h5>Total Goals Target: â‚¹<span id="totalGoals">0</span></h5>
      <h5>Total Savings: â‚¹<span id="totalSavings">0</span></h5>
      <h5>Remaining Required: â‚¹<span id="remainingAmount">0</span></h5>
    </div>
  </div>

  <script>
    let goals = [];
    let savings = [];

    const goalForm = document.getElementById("goalForm");
    const goalsTable = document.getElementById("goalsTable");
    const savingsForm = document.getElementById("savingsForm");
    const savingsTable = document.getElementById("savingsTable");

    const totalGoalsDisplay = document.getElementById("totalGoals");
    const totalSavingsDisplay = document.getElementById("totalSavings");
    const remainingAmountDisplay = document.getElementById("remainingAmount");

    function updateSummary() {
      const totalGoals = goals.reduce((sum, g) => sum + g.amount, 0);
      const totalSavings = savings.reduce((sum, s) => sum + s.amount, 0);
      const remaining = totalGoals - totalSavings;
      totalGoalsDisplay.textContent = totalGoals.toLocaleString();
      totalSavingsDisplay.textContent = totalSavings.toLocaleString();
      remainingAmountDisplay.textContent = remaining.toLocaleString();
    }

    function renderGoals() {
      goalsTable.innerHTML = "";
      goals.forEach((g, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${g.name}</td>
          <td>${g.amount.toLocaleString()}</td>
          <td>${g.totalMonths}</td>
          <td>${g.perMonth}</td>
          <td>
            <button class="btn-action btn-edit" onclick="editGoal(${index})">Edit</button>
            <button class="btn-action btn-delete" onclick="deleteGoal(${index})">Delete</button>
          </td>
        `;
        goalsTable.appendChild(row);
      });
      updateSummary();
    }

    function renderSavings() {
      savingsTable.innerHTML = "";
      savings.forEach((s, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${s.type}</td>
          <td>${s.amount.toLocaleString()}</td>
          <td>
            <button class="btn-action btn-edit" onclick="editSavings(${index})">Edit</button>
            <button class="btn-action btn-delete" onclick="deleteSavings(${index})">Delete</button>
          </td>
        `;
        savingsTable.appendChild(row);
      });
      updateSummary();
    }

    goalForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const name = goalForm.goalName.value;
      const amount = parseFloat(goalForm.goalAmount.value);
      const years = parseInt(goalForm.goalYears.value);
      const months = parseInt(goalForm.goalMonths.value);
      const totalMonths = years * 12 + months;
      const perMonth = (amount / totalMonths).toFixed(2);
      goals.push({ name, amount, totalMonths, perMonth });
      renderGoals();
      goalForm.reset();
    });

    savingsForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const type = savingsForm.savingsType.value;
      const amount = parseFloat(savingsForm.savingsAmount.value);
      savings.push({ type, amount });
      renderSavings();
      savingsForm.reset();
    });

    // Edit/Delete Functions
    function editGoal(index) {
      const goal = goals[index];
      const newName = prompt("Edit Goal Name:", goal.name);
      const newAmount = parseFloat(prompt("Edit Amount:", goal.amount));
      const newMonths = parseInt(prompt("Edit Total Months:", goal.totalMonths));
      if (newName && newAmount && newMonths) {
        goals[index] = {
          name: newName,
          amount: newAmount,
          totalMonths: newMonths,
          perMonth: (newAmount / newMonths).toFixed(2),
        };
        renderGoals();
      }
    }

    function deleteGoal(index) {
      if (confirm("Delete this goal?")) {
        goals.splice(index, 1);
        renderGoals();
      }
    }

    function editSavings(index) {
      const s = savings[index];
      const newType = prompt("Edit Type:", s.type);
      const newAmount = parseFloat(prompt("Edit Amount:", s.amount));
      if (newType && newAmount) {
        savings[index] = { type: newType, amount: newAmount };
        renderSavings();
      }
    }

    function deleteSavings(index) {
      if (confirm("Delete this saving?")) {
        savings.splice(index, 1);
        renderSavings();
      }
    }
  </script>
</body>
</html>
